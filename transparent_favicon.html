<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Transparent Favicon Generator</title>
</head>

<body style="margin:0;padding:0;background:transparent;">
    <canvas id="c" width="480" height="480" style="display:none;"></canvas>
    <script>
        const img = new Image();
        img.crossOrigin = "anonymous";
        img.onload = () => {
            const canvas = document.getElementById('c');
            const ctx = canvas.getContext('2d');
            // Fill transparent background
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // Draw image scaled to canvas
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
            const imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imgData.data;
            // Make near-white pixels transparent (threshold)
            for (let i = 0; i < data.length; i += 4) {
                const r = data[i], g = data[i + 1], b = data[i + 2];
                if (r > 250 && g > 250 && b > 250) {
                    data[i + 3] = 0; // alpha 0
                }
            }
            ctx.putImageData(imgData, 0, 0);
            const pngData = canvas.toDataURL('image/png');
            console.log('BASE64 PNG:', pngData.split(',')[1]);
        };
        img.onerror = e => console.error('Image load error', e);
        img.src = 'file:///C:/Users/Admin/.gemini/antigravity/brain/bf43464d-13ee-4bef-a962-ef7a28810ef9/uploaded_image_1768829684029.jpg';
    </script>
</body>

</html>